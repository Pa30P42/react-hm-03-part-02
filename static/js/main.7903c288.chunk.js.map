{"version":3,"sources":["components/searchForm/SearchForm.js","components/imageGallery/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/modal/Modal.js","App.js","index.js"],"names":["SearchForm","state","query","page","searchQuery","fetchFn","axios","get","then","response","props","addImages","data","hits","setState","prevState","handleSubmitOnSearch","e","preventDefault","handleSubmit","handleChange","target","name","value","className","onSubmit","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","onClick","openModalFn","image","src","webformatURL","data-image","largeImageURL","alt","ImageGallery","images","modalOpen","map","key","id","Modal","handleKeyDown","code","onClose","handleClick","nodeName","window","addEventListener","removeEventListener","modalSrc","width","height","App","isLoading","prevProps","color","margin","display","length","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7903c288.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n// import ImageGallery from \"../imageGallery/ImageGallery\";\r\n// import Button from \"../button/LoadMoreButton\";\r\n\r\nclass SearchForm extends Component {\r\n  state = {\r\n    query: \"\",\r\n    page: 0,\r\n    searchQuery: \"\",\r\n  };\r\n\r\n  fetchFn = () => {\r\n    const { query, page } = this.state;\r\n    if (query) {\r\n      axios\r\n        .get(\r\n          `https://pixabay.com/api/?q=${query}&page=${page}&key=17517629-df8f69dc57338ff5eaff7a83f&image_type=photo&orientation=horizontal&per_page=12`\r\n        )\r\n        .then((response) => {\r\n          this.props.addImages(response.data.hits);\r\n          this.setState((prevState) => ({ page: prevState.page + 1 }));\r\n        });\r\n    }\r\n  };\r\n\r\n  handleSubmitOnSearch = (e) => {\r\n    e.preventDefault();\r\n    this.props.handleSubmit(this.state.query);\r\n    this.setState({ query: \"\" });\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <>\r\n        <header className=\"Searchbar\">\r\n          <form className=\"SearchForm\" onSubmit={this.handleSubmitOnSearch}>\r\n            <button type=\"submit\" className=\"SearchForm-button\">\r\n              <span className=\"SearchForm-button-label\">Search</span>\r\n            </button>\r\n\r\n            <input\r\n              value={this.state.query}\r\n              className=\"SearchForm-input\"\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n              onChange={this.handleChange}\r\n              name=\"query\"\r\n            />\r\n          </form>\r\n        </header>\r\n        {/* <ImageGallery images={this.props.images} */}\r\n        {/* /> */}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchForm;\r\n","import React, { Component } from \"react\";\r\n\r\nclass ImageGalleryItem extends Component {\r\n  render() {\r\n    return (\r\n      <li\r\n        className=\"ImageGalleryItem\"\r\n        onClick={() => {\r\n          this.props.openModalFn(this.props.image);\r\n        }}\r\n        // data-id={this.props.image.id}\r\n      >\r\n        <img\r\n          src={this.props.image.webformatURL}\r\n          data-image={this.props.image.largeImageURL}\r\n          alt=\"\"\r\n          className=\"ImageGalleryItem-image\"\r\n        />\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport ImageGalleryItem from \"./imageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ images, modalOpen, openModalFn }) => {\r\n  return (\r\n    <>\r\n      <ul className=\"ImageGallery\">\r\n        {images.map((image) => (\r\n          <ImageGalleryItem\r\n            key={image.id}\r\n            image={image}\r\n            modalOpen={modalOpen}\r\n            openModalFn={openModalFn}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport \"./Modal.css\";\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n    // window.addEventListener(\"click\", this.handleClick);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n    // window.removeEventListener(\"click\", this.handleClick);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  handleClick = (e) => {\r\n    if (e.target.nodeName !== \"IMG\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"modalBackUp\" onClick={this.handleClick}>\r\n        <img\r\n          className=\"modalImg\"\r\n          alt=\"\"\r\n          src={this.props.modalSrc}\r\n          width=\"500\"\r\n          height=\"500\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\nimport SearchForm from \"./components/searchForm/SearchForm\";\nimport axios from \"axios\";\nimport ImageGallery from \"./components/imageGallery/ImageGallery\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport Modal from \"./components/modal/Modal\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    query: \"\",\n    page: 1,\n    isLoading: false,\n    modalOpen: false,\n  };\n\n  openModalFn = (image) => {\n    this.setState({ modalSrc: image.largeImageURL });\n    this.setState({ modalOpen: true });\n  };\n\n  onClose = () => {\n    this.setState({ modalOpen: false });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.query !== prevState.query) {\n      this.setState({ images: [] });\n      this.fetchFn();\n    }\n  }\n\n  fetchFn = () => {\n    const { query, page } = this.state;\n    if (query) {\n      this.setState({ isLoading: true });\n      axios\n        .get(\n          `https://pixabay.com/api/?q=${query}&page=${page}&key=17517629-df8f69dc57338ff5eaff7a83f&image_type=photo&orientation=horizontal&per_page=12`\n        )\n        .then((response) => {\n          this.addImages(response.data.hits);\n          this.setState((prevState) => ({\n            page: prevState.page + 1,\n            isLoading: false,\n          }));\n        });\n    }\n  };\n\n  addImages = (value) => {\n    this.setState({ images: [...this.state.images, ...value] });\n  };\n\n  handleSubmit = (query) => {\n    this.setState({ query: query, page: 1 });\n  };\n  render() {\n    const { images, isLoading, modalOpen, modalSrc } = this.state;\n    return (\n      <>\n        {modalOpen && <Modal modalSrc={modalSrc} onClose={this.onClose} />}\n        <SearchForm\n          addImages={this.addImages}\n          images={images}\n          handleSubmit={this.handleSubmit}\n        />\n        <ImageGallery\n          images={images}\n          modalOpen={modalOpen}\n          openModalFn={this.openModalFn}\n        />\n\n        {isLoading ? (\n          <div className=\"loaderContainer\">\n            <Loader\n              type=\"BallTriangle\"\n              color=\"#00BFFF\"\n              margin=\" 0 auto\"\n              display=\"block\"\n              height={80}\n              width={80} //3 secs\n            />\n          </div>\n        ) : (\n          \"\"\n        )}\n\n        {images.length > 0 && (\n          <button\n            className=\"Button loadMoreBtn\"\n            type=\"button\"\n            onClick={this.fetchFn}\n          >\n            Load More\n          </button>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}
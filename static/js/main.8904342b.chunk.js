(this["webpackJsonpreact-hm-03-part-02"]=this["webpackJsonpreact-hm-03-part-02"]||[]).push([[0],{21:function(e,a,t){e.exports=t(67)},26:function(e,a,t){},66:function(e,a,t){},67:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(18),c=t.n(r),i=(t(26),t(8)),l=t(3),s=t(4),m=t(6),u=t(5),p=t(19),d=t(7),h=t.n(d),g=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=a.call.apply(a,[this].concat(o))).state={query:"",page:0,searchQuery:""},e.fetchFn=function(){var a=e.state,t=a.query,n=a.page;t&&h.a.get("https://pixabay.com/api/?q=".concat(t,"&page=").concat(n,"&key=17517629-df8f69dc57338ff5eaff7a83f&image_type=photo&orientation=horizontal&per_page=12")).then((function(a){e.props.addImages(a.data.hits),e.setState((function(e){return{page:e.page+1}}))}))},e.handleSubmitOnSearch=function(a){a.preventDefault(),e.props.handleSubmit(e.state.query),e.setState({query:""})},e.handleChange=function(a){var t=a.target,n=t.name,o=t.value;e.setState(Object(p.a)({},n,o))},e}return Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("header",{className:"Searchbar"},o.a.createElement("form",{className:"SearchForm",onSubmit:this.handleSubmitOnSearch},o.a.createElement("button",{type:"submit",className:"SearchForm-button"},o.a.createElement("span",{className:"SearchForm-button-label"},"Search")),o.a.createElement("input",{value:this.state.query,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.handleChange,name:"query"}))))}}]),t}(n.Component),f=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("li",{className:"ImageGalleryItem",onClick:function(){e.props.openModalFn(e.props.image)}},o.a.createElement("img",{src:this.props.image.webformatURL,"data-image":this.props.image.largeImageURL,alt:"",className:"ImageGalleryItem-image"}))}}]),t}(n.Component),y=function(e){var a=e.images,t=e.modalOpen,n=e.openModalFn;return o.a.createElement(o.a.Fragment,null,o.a.createElement("ul",{className:"ImageGallery"},a.map((function(e){return o.a.createElement(f,{key:e.id,image:e,modalOpen:t,openModalFn:n})}))))},b=(t(44),t(20)),v=t.n(b),S=(t(66),function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=a.call.apply(a,[this].concat(o))).handleKeyDown=function(a){"Escape"===a.code&&e.props.onClose()},e.handleClick=function(a){console.log(a.target.nodeName),"DIV"===a.target.nodeName&&e.props.onClose()},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("click",this.handleClick)}},{key:"render",value:function(){return o.a.createElement("div",{className:"modalBackUp"},o.a.createElement("img",{className:"modalImg",alt:"",src:this.props.modalSrc,width:"500",height:"500"}))}}]),t}(n.Component)),E=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=a.call.apply(a,[this].concat(o))).state={images:[],query:"",page:1,isLoading:!1,modalOpen:!1},e.openModalFn=function(a){e.setState({modalSrc:a.largeImageURL}),e.setState({modalOpen:!0})},e.onClose=function(){e.setState({modalOpen:!1})},e.fetchFn=function(){var a=e.state,t=a.query,n=a.page;t&&(e.setState({isLoading:!0}),h.a.get("https://pixabay.com/api/?q=".concat(t,"&page=").concat(n,"&key=17517629-df8f69dc57338ff5eaff7a83f&image_type=photo&orientation=horizontal&per_page=12")).then((function(a){e.addImages(a.data.hits),e.setState((function(e){return{page:e.page+1,isLoading:!1}}))})))},e.addImages=function(a){e.setState({images:[].concat(Object(i.a)(e.state.images),Object(i.a)(a))})},e.handleSubmit=function(a){e.setState({query:a,page:1})},e}return Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,a){this.state.query!==a.query&&(this.setState({images:[]}),this.fetchFn())}},{key:"render",value:function(){var e=this.state,a=e.images,t=e.isLoading,n=e.modalOpen,r=e.modalSrc;return o.a.createElement(o.a.Fragment,null,n&&o.a.createElement(S,{modalSrc:r,onClose:this.onClose}),o.a.createElement(g,{addImages:this.addImages,images:a,handleSubmit:this.handleSubmit}),o.a.createElement(y,{images:a,modalOpen:n,openModalFn:this.openModalFn}),t?o.a.createElement("div",{className:"loaderContainer"},o.a.createElement(v.a,{type:"BallTriangle",color:"#00BFFF",margin:" 0 auto",display:"block",height:80,width:80})):"",a.length>0&&o.a.createElement("button",{className:"Button loadMoreBtn",type:"button",onClick:this.fetchFn},"Load More"))}}]),t}(n.Component);c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(E,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.8904342b.chunk.js.map